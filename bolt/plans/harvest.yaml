
description: A data harvesting plan that collects metadata about nodes (packages + facts)

parameters:
  targets:
    type: TargetSpec
    description: A list of targets to run actions on

steps:
  - message: Collecting installed packages
  - name: get_packages
    task: harvester::scan_packages
    targets: $targets
  - message: Collecting facts
  - name: get_facts
    task: facts
    targets: $targets

# The return key sets the return value of the plan.
return:
  - packages: $get_packages
  - facts: $get_facts
